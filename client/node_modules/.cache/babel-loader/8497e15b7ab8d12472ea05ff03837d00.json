{"ast":null,"code":"import _regeneratorRuntime from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/src/pages/SingleStudent/SingleStudent.jsx\";\nimport React, { Component } from 'react';\nimport Card from './components/Card';\nimport './SingleStudent.css';\nimport ParentContainer from './components/ParentContainer';\nimport Auth from '../../utils/Auth';\nimport HeaderBar from '../../components/HeaderBar/HeaderBar';\nimport { Redirect } from 'react-router-dom';\n\nvar SingleStudent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SingleStudent, _Component);\n\n  function SingleStudent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SingleStudent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SingleStudent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      OrganizationId: '',\n      address: '',\n      allergies: '',\n      createdAt: '',\n      dob: '',\n      doctor: '',\n      studentId: '',\n      medication: '',\n      name: '',\n      notes: '',\n      updatedAt: '',\n      orgUserCheck: true,\n      role: _this.props.location.state.role\n    };\n\n    _this.handleAddParentClick = function (e) {\n      console.log(e.target.name);\n    };\n\n    _this.handleAddParentClick = function (e) {\n      console.log(e.target.name);\n    };\n\n    return _this;\n  }\n\n  _createClass(SingleStudent, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(\"single student page will mount\");\n      this.getSingleStudent();\n    }\n  }, {\n    key: \"getSingleStudent\",\n    value: function () {\n      var _getSingleStudent = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"/api/allinfo/student/\".concat(this.props.match.params.student));\n\n              case 2:\n                _context.next = 4;\n                return _context.sent.json();\n\n              case 4:\n                result = _context.sent;\n                _context.next = 7;\n                return this.setState(result);\n\n              case 7:\n                if (!(this.props.location.state.role === 'staff')) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 10;\n                return Auth.StaffAuthorize(this, result.OrganizationId);\n\n              case 10:\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.next = 14;\n                return Auth.ParentAuthorize(this);\n\n              case 14:\n                console.log('STATE', this.state);\n\n              case 15:\n                console.log(this.state);\n                return _context.abrupt(\"return\", result.OrganizationId);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getSingleStudent() {\n        return _getSingleStudent.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loggedIn) {\n        // if (true){\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(HeaderBar, {\n          type: \"\".concat(this.state.userType),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"student-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Card, {\n          studentId: this.props.match.params.student,\n          name: this.state.name,\n          role: this.state.role,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(ParentContainer, {\n          className: \"student__item\",\n          name: this.state.name,\n          destination: \"DailyReportPage\",\n          studentId: this.props.match.params.student,\n          address: this.state.address,\n          allergies: this.state.allergies,\n          medication: this.state.medication,\n          doctor: this.state.doctor,\n          dob: this.state.dob,\n          notes: this.state.notes,\n          role: this.state.role,\n          orgId: this.state.OrganizationId // image={this.state.image}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        })));\n      } else if (this.state.loginRejected) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/notAuthorized'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n      } else if (!this.state.orgUserCheck) {\n        console.log(this.state);\n        return React.createElement(Redirect, {\n          to: \"/staffhomepage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return SingleStudent;\n}(Component);\n\nexport { SingleStudent as default };","map":{"version":3,"sources":["/Users/admin/Desktop/my-code/UCB/SnackTime/client/src/pages/SingleStudent/SingleStudent.jsx"],"names":["React","Component","Card","ParentContainer","Auth","HeaderBar","Redirect","SingleStudent","state","OrganizationId","address","allergies","createdAt","dob","doctor","studentId","medication","name","notes","updatedAt","orgUserCheck","role","props","location","handleAddParentClick","e","console","log","target","getSingleStudent","fetch","match","params","student","json","result","setState","StaffAuthorize","ParentAuthorize","loggedIn","userType","loginRejected","pathname"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAO,qBAAP;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;;IAEqBC,a;;;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,cAAc,EAAE,EADV;AAENC,MAAAA,OAAO,EAAE,EAFH;AAGNC,MAAAA,SAAS,EAAE,EAHL;AAINC,MAAAA,SAAS,EAAE,EAJL;AAKNC,MAAAA,GAAG,EAAE,EALC;AAMNC,MAAAA,MAAM,EAAE,EANF;AAONC,MAAAA,SAAS,EAAE,EAPL;AAQNC,MAAAA,UAAU,EAAE,EARN;AASNC,MAAAA,IAAI,EAAE,EATA;AAUNC,MAAAA,KAAK,EAAE,EAVD;AAWNC,MAAAA,SAAS,EAAE,EAXL;AAYNC,MAAAA,YAAY,EAAE,IAZR;AAaNC,MAAAA,IAAI,EAAC,MAAKC,KAAL,CAAWC,QAAX,CAAoBf,KAApB,CAA0Ba;AAbzB,K;;UAoCRG,oB,GAAuB,UAAAC,CAAC,EAAI;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASX,IAArB;AACD,K;;UAEDO,oB,GAAuB,UAAAC,CAAC,EAAI;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASX,IAArB;AACD,K;;;;;;;yCA1BoB;AACnBS,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACC,WAAKE,gBAAL;AACF;;;;;;;;;;;;;uBAG2BC,KAAK,gCACL,KAAKR,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,OADnB,E;;;;qCAE1BC,I;;;AAFDC,gBAAAA,M;;uBAGI,KAAKC,QAAL,CAAcD,MAAd,C;;;sBACF,KAAKb,KAAL,CAAWC,QAAX,CAAoBf,KAApB,CAA0Ba,IAA1B,KAAmC,O;;;;;;uBACjCjB,IAAI,CAACiC,cAAL,CAAoB,IAApB,EAA0BF,MAAM,CAAC1B,cAAjC,C;;;;;;;;uBAEEL,IAAI,CAACkC,eAAL,CAAqB,IAArB,C;;;AACNZ,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKnB,KAA1B;;;AAEFkB,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;iDACK2B,MAAM,CAAC1B,c;;;;;;;;;;;;;;;;6BAWP;AACP,UAAI,KAAKD,KAAL,CAAW+B,QAAf,EAAyB;AACvB;AACA,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,SAAD;AAAW,UAAA,IAAI,YAAK,KAAK/B,KAAL,CAAWgC,QAAhB,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAGA;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEE,oBAAC,IAAD;AACE,UAAA,SAAS,EAAE,KAAKlB,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,OADrC;AAEE,UAAA,IAAI,EAAE,KAAKzB,KAAL,CAAWS,IAFnB;AAGE,UAAA,IAAI,EAAE,KAAKT,KAAL,CAAWa,IAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,EAOE,oBAAC,eAAD;AACE,UAAA,SAAS,EAAC,eADZ;AAEE,UAAA,IAAI,EAAE,KAAKb,KAAL,CAAWS,IAFnB;AAGE,UAAA,WAAW,EAAC,iBAHd;AAIE,UAAA,SAAS,EAAE,KAAKK,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,OAJrC;AAKE,UAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWE,OALtB;AAME,UAAA,SAAS,EAAE,KAAKF,KAAL,CAAWG,SANxB;AAOE,UAAA,UAAU,EAAE,KAAKH,KAAL,CAAWQ,UAPzB;AAQE,UAAA,MAAM,EAAE,KAAKR,KAAL,CAAWM,MARrB;AASE,UAAA,GAAG,EAAE,KAAKN,KAAL,CAAWK,GATlB;AAUE,UAAA,KAAK,EAAE,KAAKL,KAAL,CAAWU,KAVpB;AAWE,UAAA,IAAI,EAAE,KAAKV,KAAL,CAAWa,IAXnB;AAYE,UAAA,KAAK,EAAE,KAAKb,KAAL,CAAWC,cAZpB,CAcE;AAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,CAHA,CADF;AA8BD,OAhCD,MAgCO,IAAI,KAAKD,KAAL,CAAWiC,aAAf,EAA8B;AACnC,eACE,oBAAC,QAAD;AACE,UAAA,EAAE,EAAE;AACFC,YAAAA,QAAQ,EAAE;AADR,WADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,OARM,MAQA,IAAI,CAAC,KAAKlC,KAAL,CAAWY,YAAhB,EAA8B;AACnCM,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;AACA,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAHM,MAGA;AACL,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF;;;;EA5FwCP,S;;SAAtBM,a","sourcesContent":["import React, { Component } from 'react';\nimport Card from './components/Card';\nimport './SingleStudent.css';\nimport ParentContainer from './components/ParentContainer';\nimport Auth from '../../utils/Auth';\nimport HeaderBar from '../../components/HeaderBar/HeaderBar';\nimport {Redirect} from 'react-router-dom'\n\nexport default class SingleStudent extends Component {\n  state = {\n    OrganizationId: '',\n    address: '',\n    allergies: '',\n    createdAt: '',\n    dob: '',\n    doctor: '',\n    studentId: '',\n    medication: '',\n    name: '',\n    notes: '',\n    updatedAt: '',\n    orgUserCheck: true,\n    role:this.props.location.state.role\n  };\n\n  componentWillMount() {\n    console.log(\"single student page will mount\");\n     this.getSingleStudent();\n  }\n  \n  async getSingleStudent() {\n    let result = await (await fetch(\n      `/api/allinfo/student/${this.props.match.params.student}`\n      )).json();\n      await this.setState(result);\n      if (this.props.location.state.role === 'staff'){\n      await Auth.StaffAuthorize(this, result.OrganizationId);\n      }else{\n        await Auth.ParentAuthorize(this); \n        console.log('STATE', this.state);\n      }\n      console.log(this.state)\n    return result.OrganizationId;\n  }\n\n  handleAddParentClick = e => {\n    console.log(e.target.name);\n  };\n\n  handleAddParentClick = e => {\n    console.log(e.target.name);\n  };\n\n  render() {\n    if (this.state.loggedIn) {\n      // if (true){\n      return (\n        <div>\n            <HeaderBar type={`${this.state.userType}`}/>\n          \n        <div className=\"student-container\">\n\n          <Card\n            studentId={this.props.match.params.student}\n            name={this.state.name}\n            role={this.state.role}\n          />\n          <ParentContainer\n            className=\"student__item\"\n            name={this.state.name}\n            destination=\"DailyReportPage\"\n            studentId={this.props.match.params.student}\n            address={this.state.address}\n            allergies={this.state.allergies}\n            medication={this.state.medication}\n            doctor={this.state.doctor}\n            dob={this.state.dob}\n            notes={this.state.notes}\n            role={this.state.role}\n            orgId={this.state.OrganizationId}\n\n            // image={this.state.image}\n          />\n        </div>\n        </div> \n      );\n    } else if (this.state.loginRejected) {\n      return (\n        <Redirect\n          to={{\n            pathname: '/notAuthorized',\n          }}\n        />\n      );\n    } else if (!this.state.orgUserCheck) {\n      console.log(this.state)\n      return <Redirect to=\"/staffhomepage\" />;\n    } else {\n      return <div />;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}