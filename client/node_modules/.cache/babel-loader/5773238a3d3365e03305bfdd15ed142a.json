{"ast":null,"code":"import _regeneratorRuntime from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/src/pages/Schedule/Schedule.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport TextField from \"@material-ui/core/TextField\";\nimport \"./Schedule.css\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from \"@material-ui/core/Button\";\nimport HeaderBar from \"../../components/HeaderBar/HeaderBar\";\nimport TimePicker from \"../../components/TimePicker/TimePicker\";\nimport Auth from '../../utils/Auth';\nimport DaySchedule from \"./components/DaySchedule\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: \"75vw\",\n      marginTop: theme.spacing.unit * 3 // overflowX: 'auto',\n\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular\n    },\n    childInfo: {\n      margin: \"15px\"\n    },\n    table: {\n      minWidth: 700\n    },\n    searchSubmit: {\n      marginTop: \"25px\"\n    },\n    submitGuardian: {\n      marginTop: \"25px\"\n    },\n    submitActivity: {\n      marginTop: \"25px\"\n    },\n    row: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.background.default\n      }\n    }\n  };\n};\n\nvar Schedule =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Schedule, _Component);\n\n  function Schedule() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Schedule);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Schedule)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      role: \"\",\n      orgName: \"\",\n      orgPhone: \"\",\n      orgOpenTime: \"\",\n      orgCloseTime: \"\",\n      userType: \"\",\n      orgId: \"\",\n      validationErrorMssg: \"\",\n      guardianValidationErrorMssg: \"\",\n      days: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\"]\n    };\n    _this.refreshInfo = React.createRef();\n\n    _this.refreshInfoFunc = function () {\n      _this.refreshInfo.current.renderInfo();\n    };\n\n    return _this;\n  }\n\n  _createClass(Schedule, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('/auth/loggedin');\n\n              case 2:\n                _context.next = 4;\n                return _context.sent.json();\n\n              case 4:\n                data = _context.sent;\n\n                if (!(data.userType === 'staff')) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _context.next = 8;\n                return Auth.StaffAuthorize(this);\n\n              case 8:\n                this.setState({\n                  userType: data.userType\n                });\n                _context.next = 15;\n                break;\n\n              case 11:\n                _context.next = 13;\n                return Auth.ParentAuthorize(this);\n\n              case 13:\n                console.log(this.state);\n                this.setState({\n                  userType: data.userType\n                });\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    // renderActivityInput = day =>{\n    //   if(this.state.userType === \"staff\"){\n    //     return(\n    //       <DayScheduleForm refreshFunc={this.refreshInfoFunc} day={day} orgId={this.state.orgId} />\n    //     )\n    //   }\n    //   else if(this.state.userType === \"parent\")\n    //       return (<div></div>)\n    // }\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      console.log(\"OrgId from schedule:\", this.state.orgId);\n\n      if (this.state.loggedIn) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(HeaderBar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: classes.root,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, this.state.days.map(function (day) {\n          return React.createElement(ExpansionPanel, {\n            key: day,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, React.createElement(ExpansionPanelSummary, {\n            expandIcon: React.createElement(ExpandMoreIcon, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106\n              },\n              __self: this\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(Typography, {\n            className: classes.heading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, day)), React.createElement(ExpansionPanelDetails, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(DaySchedule, {\n            day: day,\n            ref: _this2.refreshInfo,\n            orgId: _this2.state.orgId,\n            role: _this2.state.userType,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          })));\n        })));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Schedule;\n}(Component);\n\nSchedule.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Schedule);","map":{"version":3,"sources":["/Users/admin/Desktop/my-code/UCB/SnackTime/client/src/pages/Schedule/Schedule.jsx"],"names":["React","Component","PropTypes","withStyles","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","Typography","ExpandMoreIcon","TextField","InputLabel","Select","MenuItem","Button","HeaderBar","TimePicker","Auth","DaySchedule","styles","theme","root","width","marginTop","spacing","unit","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","childInfo","margin","table","minWidth","searchSubmit","submitGuardian","submitActivity","row","backgroundColor","palette","background","default","Schedule","state","role","orgName","orgPhone","orgOpenTime","orgCloseTime","userType","orgId","validationErrorMssg","guardianValidationErrorMssg","days","refreshInfo","createRef","refreshInfoFunc","current","renderInfo","fetch","json","data","StaffAuthorize","setState","ParentAuthorize","console","log","classes","props","loggedIn","map","day","propTypes","object","isRequired"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,qBAAP,MAAkC,yCAAlC;AACA,OAAOC,qBAAP,MAAkC,yCAAlC;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAO,gBAAP;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,MADH;AAEJC,MAAAA,SAAS,EAAEH,KAAK,CAACI,OAAN,CAAcC,IAAd,GAAqB,CAF5B,CAGJ;;AAHI,KADiB;AAMvBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,QAAQ,EAAEP,KAAK,CAACQ,UAAN,CAAiBC,OAAjB,CAAyB,EAAzB,CADH;AAEPC,MAAAA,UAAU,EAAEV,KAAK,CAACQ,UAAN,CAAiBG;AAFtB,KANc;AAUvBC,IAAAA,SAAS,EAAE;AACTC,MAAAA,MAAM,EAAE;AADC,KAVY;AAavBC,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE;AADL,KAbgB;AAgBvBC,IAAAA,YAAY,EAAE;AACZb,MAAAA,SAAS,EAAE;AADC,KAhBS;AAmBvBc,IAAAA,cAAc,EAAE;AACdd,MAAAA,SAAS,EAAE;AADG,KAnBO;AAsBvBe,IAAAA,cAAc,EAAE;AACdf,MAAAA,SAAS,EAAE;AADG,KAtBO;AAyBvBgB,IAAAA,GAAG,EAAE;AACH,4BAAsB;AACpBC,QAAAA,eAAe,EAAEpB,KAAK,CAACqB,OAAN,CAAcC,UAAd,CAAyBC;AADtB;AADnB;AAzBkB,GAAL;AAAA,CAApB;;IAgCMC,Q;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,OAAO,EAAE,EAFH;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,WAAW,EAAE,EAJP;AAKNC,MAAAA,YAAY,EAAE,EALR;AAMNC,MAAAA,QAAQ,EAAE,EANJ;AAONC,MAAAA,KAAK,EAAC,EAPA;AAQNC,MAAAA,mBAAmB,EAAC,EARd;AASNC,MAAAA,2BAA2B,EAAC,EATtB;AAUNC,MAAAA,IAAI,EAAC,CAAC,QAAD,EAAU,SAAV,EAAoB,WAApB,EAAgC,UAAhC,EAA2C,QAA3C;AAVC,K;UAaRC,W,GAAcvD,KAAK,CAACwD,SAAN,E;;UAedC,e,GAAgB,YAAI;AAClB,YAAKF,WAAL,CAAiBG,OAAjB,CAAyBC,UAAzB;AACD,K;;;;;;;;;;;;;;;;;uBAdyBC,KAAK,CAAC,gBAAD,C;;;;qCAAoBC,I;;;AAA7CC,gBAAAA,I;;sBACAA,IAAI,CAACZ,QAAL,KAAkB,O;;;;;;uBACdlC,IAAI,CAAC+C,cAAL,CAAoB,IAApB,C;;;AACN,qBAAKC,QAAL,CAAc;AAACd,kBAAAA,QAAQ,EAAEY,IAAI,CAACZ;AAAhB,iBAAd;;;;;;uBAEMlC,IAAI,CAACiD,eAAL,CAAqB,IAArB,C;;;AACNC,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKvB,KAAjB;AACA,qBAAKoB,QAAL,CAAc;AAACd,kBAAAA,QAAQ,EAAEY,IAAI,CAACZ;AAAhB,iBAAd;;;;;;;;;;;;;;;;AASJ;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;6BAES;AAAA;;AAAA,UACCkB,OADD,GACa,KAAKC,KADlB,CACCD,OADD;AAEPF,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmC,KAAKvB,KAAL,CAAWO,KAA9C;;AACA,UAAG,KAAKP,KAAL,CAAW0B,QAAd,EAAuB;AACvB,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEI;AAAK,UAAA,SAAS,EAAEF,OAAO,CAAChD,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,KAAKwB,KAAL,CAAWU,IAAX,CAAgBiB,GAAhB,CAAoB,UAAAC,GAAG,EAAE;AACxB,iBAAO,oBAAC,cAAD;AAAgB,YAAA,GAAG,EAAEA,GAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACL,oBAAC,qBAAD;AAAuB,YAAA,UAAU,EAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,UAAD;AAAY,YAAA,SAAS,EAAEJ,OAAO,CAAC3C,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACG+C,GADH,CADF,CADK,EAML,oBAAC,qBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,WAAD;AAAa,YAAA,GAAG,EAAEA,GAAlB;AAAuB,YAAA,GAAG,EAAE,MAAI,CAACjB,WAAjC;AAA8C,YAAA,KAAK,EAAE,MAAI,CAACX,KAAL,CAAWO,KAAhE;AAAuE,YAAA,IAAI,EAAE,MAAI,CAACP,KAAL,CAAWM,QAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CANK,CAAP;AAWD,SAZA,CADH,CAFJ,CADF;AAoBO,OArBP,MAsBU;AACF,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACR;;;;EAxEoBjD,S;;AA2EvB0C,QAAQ,CAAC8B,SAAT,GAAqB;AACnBL,EAAAA,OAAO,EAAElE,SAAS,CAACwE,MAAV,CAAiBC;AADP,CAArB;AAIA,eAAexE,UAAU,CAACe,MAAD,CAAV,CAAmByB,QAAnB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport TextField from \"@material-ui/core/TextField\";\nimport \"./Schedule.css\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from \"@material-ui/core/Button\";\nimport HeaderBar from \"../../components/HeaderBar/HeaderBar\";\nimport TimePicker from \"../../components/TimePicker/TimePicker\";\nimport Auth from '../../utils/Auth';\nimport DaySchedule from \"./components/DaySchedule\"\n\nconst styles = theme => ({\n  root: {\n    width: \"75vw\",\n    marginTop: theme.spacing.unit * 3\n    // overflowX: 'auto',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  },\n  childInfo: {\n    margin: \"15px\"\n  },\n  table: {\n    minWidth: 700\n  },\n  searchSubmit: {\n    marginTop: \"25px\"\n  },\n  submitGuardian: {\n    marginTop: \"25px\"\n  },\n  submitActivity: {\n    marginTop: \"25px\"\n  },\n  row: {\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: theme.palette.background.default\n    }\n  }\n});\n\nclass Schedule extends Component {\n  state = {\n    role: \"\",\n    orgName: \"\",\n    orgPhone: \"\",\n    orgOpenTime: \"\",\n    orgCloseTime: \"\",\n    userType: \"\",\n    orgId:\"\",\n    validationErrorMssg:\"\",\n    guardianValidationErrorMssg:\"\",\n    days:[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\"]\n  };\n\n  refreshInfo = React.createRef();\n\n  async componentWillMount() {\n    let data = await (await fetch('/auth/loggedin')).json();\n    if (data.userType === 'staff') {\n      await Auth.StaffAuthorize(this);\n      this.setState({userType: data.userType})\n    } else {\n      await Auth.ParentAuthorize(this);\n      console.log(this.state);\n      this.setState({userType: data.userType})\n      \n    }   \n  }\n\n  refreshInfoFunc=()=>{\n    this.refreshInfo.current.renderInfo();\n  }\n\n  // renderActivityInput = day =>{\n  //   if(this.state.userType === \"staff\"){\n    \n  //     return(\n  //       <DayScheduleForm refreshFunc={this.refreshInfoFunc} day={day} orgId={this.state.orgId} />\n  //     )\n  //   }\n  //   else if(this.state.userType === \"parent\")\n  //       return (<div></div>)\n  // }\n\n  render() {\n    const { classes } = this.props;\n    console.log(\"OrgId from schedule:\",this.state.orgId)\n    if(this.state.loggedIn){\n    return (\n      <div>\n        <HeaderBar />  \n          <div className={classes.root}>\n            {this.state.days.map(day=>{\n              return(<ExpansionPanel key={day}>\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                  <Typography className={classes.heading}>\n                    {day}\n                  </Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                  <DaySchedule day={day} ref={this.refreshInfo} orgId={this.state.orgId} role={this.state.userType} />\n                </ExpansionPanelDetails>\n                {/* {this.renderActivityInput(day)} */}\n              </ExpansionPanel>)              \n            })}\n          </div>\n      </div>\n    );\n          }\n          else{\n            return(<div></div>)\n          }\n  }\n}\n\nSchedule.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Schedule);\n"]},"metadata":{},"sourceType":"module"}