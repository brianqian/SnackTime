{"ast":null,"code":"import _defineProperty from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/Desktop/my-code/UCB/SnackTime/client/src/pages/Schedule/components/DaySchedule.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Avatar from '@material-ui/core/Avatar';\nimport red from '@material-ui/core/colors/red';\nimport DashboardItem from \"../../../components/DashboardItem/DashboardItem\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport indigo from \"@material-ui/core/colors/indigo\";\nimport moment from \"moment\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from \"@material-ui/core/Button\";\nimport TimePicker from \"../../../components/TimePicker/TimePicker\";\nimport TextField from \"@material-ui/core/TextField\";\nvar CustomTableCell = withStyles(function (theme) {\n  return {\n    head: {\n      backgroundColor: indigo[500],\n      color: theme.palette.common.white\n    },\n    body: {\n      fontSize: 14\n    }\n  };\n})(TableCell);\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: \"75vw\",\n      marginTop: theme.spacing.unit * 3 // overflowX: 'auto',\n\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular\n    },\n    childInfo: {\n      margin: \"15px\"\n    },\n    table: {\n      minWidth: 700\n    },\n    searchSubmit: {\n      marginTop: \"25px\"\n    },\n    submitGuardian: {\n      marginTop: \"25px\"\n    },\n    submitActivity: {\n      marginTop: \"25px\"\n    },\n    row: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.background.default\n      }\n    }\n  };\n};\n\nvar DaySchedule =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DaySchedule, _React$Component);\n\n  function DaySchedule() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DaySchedule);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DaySchedule)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      day: _this.props.day,\n      activities: [],\n      orgId: _this.props.orgId,\n      role: _this.props.role\n    };\n    _this.timepickerState1 = React.createRef();\n    _this.timepickerState2 = React.createRef();\n    _this.renderInfo =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(_this.props);\n              _context.next = 3;\n              return _this.setState({\n                orgId: _this.props.orgId\n              });\n\n            case 3:\n              console.log(_this.state);\n              console.log(\"/api/orgschedule/\".concat(_this.state.orgId, \"/day/\").concat(_this.state.day));\n              fetch(\"/api/orgschedule/\".concat(_this.state.orgId, \"/day/\").concat(_this.state.day)).then(function (res) {\n                return res.json();\n              }).then(function (resp) {\n                _this.setState({\n                  activities: resp\n                });\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.handleChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSubmitNewActivity =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e, day) {\n        var startTime, endTime, url, newObj;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                startTime = _this.timepickerState1.current.returnTime();\n                endTime = _this.timepickerState2.current.returnTime();\n                console.log('START AND END', startTime, endTime);\n                _context2.next = 6;\n                return _this.setState({\n                  startTime: startTime,\n                  endTime: endTime\n                });\n\n              case 6:\n                url = window.location.href;\n                url = url.substring(0, url.length - 14);\n                newObj = {\n                  category: _this.state.category,\n                  startTime: _this.state.startTime,\n                  endTime: _this.state.endTime,\n                  description: _this.state.description,\n                  day: day,\n                  orgId: _this.state.orgId\n                };\n                console.log(newObj);\n                _context2.next = 12;\n                return _this.setState({\n                  addActivity: newObj\n                });\n\n              case 12:\n                fetch(\"/api/orgschedule\", {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-type\": \"application/json\"\n                  },\n                  body: JSON.stringify(newObj)\n                }).then(function (resp) {\n                  return resp.json();\n                }).then(function (resp) {\n                  console.log(resp);\n\n                  if (resp.id) {\n                    _this.setState({\n                      status: \"Activity Added!\",\n                      category: \"\",\n                      startTime: \"\",\n                      endTime: \"\",\n                      description: \"\",\n                      validationErrorMssg: \"\"\n                    });\n\n                    _this.renderInfo();\n                  }\n                });\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(DaySchedule, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderInfo();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      console.log(this.props.orgId);\n\n      if (this.state.activities.length > 0) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(Paper, {\n          className: classes.root,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(Table, {\n          className: classes.table,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(TableRow, {\n          key: \"header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(CustomTableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Start Time\"), React.createElement(CustomTableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"End Time\"), React.createElement(CustomTableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"Activity\"), React.createElement(CustomTableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"Category\"))), React.createElement(TableBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, this.state.activities.map(function (activity) {\n          return React.createElement(TableRow, {\n            key: activity.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }, React.createElement(CustomTableCell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          }, moment(activity.activityStartTime, \"HH:mm:ss\").format(\"hh:mm A\")), React.createElement(CustomTableCell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 165\n            },\n            __self: this\n          }, moment(activity.activityEndTime, \"HH:mm:ss\").format(\"hh:mm A\")), React.createElement(CustomTableCell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, activity.activityName), React.createElement(CustomTableCell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          }, activity.activityCategory));\n        }))))), this.state.role === 'staff' && React.createElement(\"div\", {\n          className: \"add-daily-activity\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(InputLabel, {\n          htmlFor: \"activity-category\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"Category\"), React.createElement(Select, {\n          value: this.state.category,\n          onChange: this.handleChange,\n          inputProps: {\n            name: 'category',\n            id: 'category-simple'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(MenuItem, {\n          value: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"em\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \"None\")), React.createElement(MenuItem, {\n          value: \"Snack\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"Snack\"), React.createElement(MenuItem, {\n          value: \"Nap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"Nap\"), React.createElement(MenuItem, {\n          value: \"Recreation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"Recreation\"), React.createElement(MenuItem, {\n          value: \"Education\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \"Education\")), React.createElement(\"div\", {\n          className: \"addactivity-starttime\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(TimePicker, {\n          ref: this.timepickerState1,\n          setTime: this.setstartTime,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"addactivity-endtime\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, React.createElement(TimePicker, {\n          ref: this.timepickerState2,\n          setTime: this.setendTime,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        })), React.createElement(TextField, {\n          name: \"description\",\n          onChange: this.handleChange,\n          value: this.state.description,\n          id: \"description\",\n          label: \"Activity Description\",\n          margin: \"normal\",\n          variant: \"outlined\",\n          type: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }), React.createElement(Button, {\n          className: classes.submitActivity,\n          onClick: function onClick(e) {\n            _this2.handleSubmitNewActivity(e, _this2.state.day);\n          },\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, \"Add Activity to Schedule\"))));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, \"No Scheduled Activities!\");\n      }\n    }\n  }]);\n\n  return DaySchedule;\n}(React.Component);\n\nDaySchedule.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(DaySchedule);","map":{"version":3,"sources":["/Users/admin/Desktop/my-code/UCB/SnackTime/client/src/pages/Schedule/components/DaySchedule.jsx"],"names":["React","PropTypes","withStyles","Card","CardHeader","Avatar","red","DashboardItem","TableBody","TableCell","TableHead","TableRow","Paper","Table","indigo","moment","InputLabel","Select","MenuItem","Button","TimePicker","TextField","CustomTableCell","theme","head","backgroundColor","color","palette","common","white","body","fontSize","styles","root","width","marginTop","spacing","unit","heading","typography","pxToRem","fontWeight","fontWeightRegular","childInfo","margin","table","minWidth","searchSubmit","submitGuardian","submitActivity","row","background","default","DaySchedule","state","day","props","activities","orgId","role","timepickerState1","createRef","timepickerState2","renderInfo","console","log","setState","fetch","then","res","json","resp","handleChange","e","target","name","value","handleSubmitNewActivity","preventDefault","startTime","current","returnTime","endTime","url","window","location","href","substring","length","newObj","category","description","addActivity","method","headers","JSON","stringify","id","status","validationErrorMssg","classes","map","activity","activityStartTime","format","activityEndTime","activityName","activityCategory","setstartTime","setendTime","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Avatar from '@material-ui/core/Avatar';\nimport red from '@material-ui/core/colors/red';\nimport DashboardItem from \"../../../components/DashboardItem/DashboardItem\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport indigo from \"@material-ui/core/colors/indigo\";\nimport moment from \"moment\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from \"@material-ui/core/Button\";\nimport TimePicker from \"../../../components/TimePicker/TimePicker\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst CustomTableCell = withStyles(theme => ({\n    head: {\n      backgroundColor: indigo[500],\n      color: theme.palette.common.white\n    },\n    body: {\n      fontSize: 14\n    }\n  }))(TableCell);\n  \n  const styles = theme => ({\n    root: {\n      width: \"75vw\",\n      marginTop: theme.spacing.unit * 3\n      // overflowX: 'auto',\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular\n    },\n    childInfo: {\n      margin: \"15px\"\n    },\n    table: {\n      minWidth: 700\n    },\n    searchSubmit: {\n      marginTop: \"25px\"\n    },\n    submitGuardian: {\n      marginTop: \"25px\"\n    },\n    submitActivity: {\n      marginTop: \"25px\"\n    },\n    row: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.background.default\n      }\n    }\n  });\n  class DaySchedule extends React.Component {\n    state = { \n      day: this.props.day,\n      activities:[],\n      orgId:this.props.orgId,\n      role:this.props.role\n    };\n\n        timepickerState1 = React.createRef();\n    timepickerState2 = React.createRef();\n\n     componentDidMount(){\n      this.renderInfo();\n        \n    }\n    renderInfo = async ()=>{\n      console.log(this.props)\n      await this.setState({orgId: this.props.orgId})\n      console.log(this.state)\n      console.log(`/api/orgschedule/${this.state.orgId}/day/${this.state.day}`)\n      fetch(`/api/orgschedule/${this.state.orgId}/day/${this.state.day}`)\n      .then(res=>res.json())\n      .then(resp =>{\n          this.setState({activities: resp})})\n    }\n\n    handleChange = e =>{\n      const { name, value } = e.target;\n\n  this.setState({\n    [name]: value\n  });\n  }\n\n  handleSubmitNewActivity = async (e, day) => {\n      e.preventDefault();\n      let startTime = this.timepickerState1.current.returnTime();\n      let endTime = this.timepickerState2.current.returnTime();\n      console.log('START AND END', startTime, endTime);\n      await this.setState({startTime: startTime, endTime: endTime})\n      let url = window.location.href;\n      url = url.substring(0, url.length - 14);\n  \n      let newObj = {\n        category: this.state.category,\n        startTime: this.state.startTime,\n        endTime: this.state.endTime,\n        description: this.state.description,\n        day: day,\n        orgId: this.state.orgId\n      };\n      console.log(newObj);\n      await this.setState({ addActivity: newObj });\n      fetch(`/api/orgschedule`, {\n        method: \"POST\",\n        headers: { \"Content-type\": \"application/json\" },\n        body: JSON.stringify(newObj)\n      })\n        .then(resp => resp.json())\n        .then(resp => {\n          console.log(resp);\n          if (resp.id) {\n            \n             this.setState(\n              {\n                status: \"Activity Added!\",\n                category: \"\",\n                startTime: \"\",\n                endTime: \"\",\n                description: \"\",\n                validationErrorMssg:\"\"\n              },\n            );\n            this.renderInfo()\n          } \n        });\n    };\n\n    render() {\n        const {classes} = this.props\n        console.log(this.props.orgId)\n        if (this.state.activities.length > 0) {\n            return (\n              <div>\n                <div>\n                  <Paper className={classes.root}>\n                    <Table className={classes.table}>\n                      <TableHead>\n                        <TableRow key=\"header\">\n                          <CustomTableCell>Start Time</CustomTableCell>\n                          <CustomTableCell>End Time</CustomTableCell>\n                          <CustomTableCell>Activity</CustomTableCell>\n                          <CustomTableCell>Category</CustomTableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        {this.state.activities.map(activity => {\n                          return (\n                            <TableRow key={activity.id}>\n                              <CustomTableCell>{moment(activity.activityStartTime,\"HH:mm:ss\").format(\"hh:mm A\")}</CustomTableCell>\n                              <CustomTableCell>{moment(activity.activityEndTime,\"HH:mm:ss\").format(\"hh:mm A\")}</CustomTableCell>\n                              <CustomTableCell>{activity.activityName}</CustomTableCell>\n                              <CustomTableCell>{activity.activityCategory}</CustomTableCell>\n                            </TableRow>\n                          );\n                        })}\n                      </TableBody>\n                    </Table>\n                  </Paper>\n                </div>\n                {this.state.role=== 'staff'&& <div className=\"add-daily-activity\">\n                  <form>\n                    <InputLabel htmlFor=\"activity-category\">Category</InputLabel>\n                    <Select\n                      value={this.state.category}\n                      onChange={this.handleChange}\n                      inputProps={{\n                        name: 'category',\n                        id: 'category-simple',\n                      }}\n                    >\n                      <MenuItem value=\"\">\n                        <em>None</em>\n                      </MenuItem>\n                      <MenuItem value={\"Snack\"}>Snack</MenuItem>\n                      <MenuItem value={\"Nap\"}>Nap</MenuItem>\n                      <MenuItem value={\"Recreation\"}>Recreation</MenuItem>\n                      <MenuItem value={\"Education\"}>Education</MenuItem>\n                    </Select>\n\n                    <div className=\"addactivity-starttime\">\n                      <TimePicker ref={this.timepickerState1} setTime={this.setstartTime} />\n                    </div>\n\n                    <div className=\"addactivity-endtime\">\n                      <TimePicker ref={this.timepickerState2} setTime={this.setendTime} />\n                    </div>\n\n                    <TextField\n                      name=\"description\"\n                      onChange={this.handleChange}\n                      value={this.state.description}\n                      id=\"description\"\n                      label=\"Activity Description\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      type=\"text\"\n                    />\n\n                    <Button\n                      className={classes.submitActivity}\n                      onClick={(e) => {this.handleSubmitNewActivity(e, this.state.day)}}\n                      type=\"submit\"\n                    >\n                      Add Activity to Schedule\n                    </Button>\n                  </form>\n                </div>\n              }\n              </div>  \n            );\n          } else {\n            return <div>No Scheduled Activities!</div>;\n          }\n  }\n  }\n  \n  DaySchedule.propTypes = {\n    classes: PropTypes.object.isRequired,\n  };\n  \n  export default withStyles(styles)(DaySchedule);"]},"metadata":{},"sourceType":"module"}